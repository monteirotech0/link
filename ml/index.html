<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 0;
            padding: 0;
            background-color: #333;
            color: white;
        }
        h1 {
            margin-top: 40px;
        }
        .classzap {
            margin-top: 0px;
        }        
        .logo {
            margin-top: 40px;
            display: inline-flex;
            vertical-align: middle;
            margin-right: 5px;
            height: 100px;
            width: 100px;
            padding-bottom: 20px;
        }
    </style>
    <title>Monteiro Tech Oferta</title>
</head>
<body>

        <div class="logo">
            <a href="https://monteirotech0.github.io/link/">
                <img src="https://i.ytimg.com/an/ITS5hn9_3vzLXjXs2CJ7yQ/featured_channel.jpg?v=64ee00d7&quot" alt="Amazon">
            </a>
           
        </div>
        <div>
            <h1>Estamos Carregando sua OFERTA..... ! </h1>
        </div>
        
    <script>
        // Função para obter o valor do parâmetro da URL
        function obterParametroURL(nome) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(nome);
        }

        // Obtém o valor do parâmetro 'destino' da URL
        let destino = obterParametroURL('destino');

        // Define o tempo de atraso em milissegundos (por exemplo, 5000ms = 5 segundos)
        const atrasoEmMilissegundos = 5000;

        // Função para redirecionar após o atraso

       /* console.log(destino)
        let novoTitulo = 'Redirecionando...'; // Título padrão
        if (destino === '1') {
            destino = 'https://mercadolivre.com.br/sec/2jrxGR1'
        }else if (destino === '2'){
            destino = 'https://mercadolivre.com.br/sec/1isbS28'
        }else if (destino === '3'){
            destino = 'https://mercadolivre.com.br/sec/2ywPtQt'
        }
        novoTitulo = `Redirecionando... ${destino}`; // Título padrão

        function redirecionar() {
            
            document.title = novoTitulo;
            if (destino) {
                window.location.href = destino;
            } else {
                // Redireciona para um site padrão se nenhum parâmetro for especificado
                window.location.href = 'https://www.monteirotech.com.br';
            }
        }*/
        
        function redirecionar() {

            if (!destino) {
                // Redireciona para um site padrão se nenhum destino for especificado
                window.location.href = 'https://www.monteirotech.com.br';
                return;
            }

           
                // Carrega o arquivo JSON com os produtos
            fetch('produtos.json') // Carrega o arquivo JSON
                .then(response => response.json()) // Converte a resposta para JSON
                .then(data => {
                        // Encontra o produto com base no ID passado pelo destino
                        const produto = data.find(item => item.id.toString() === destino);
                        document.title = produto.descricao;
                        
                        if (produto && produto.link) {
                            // Redireciona para o link do produto encontrado
                            window.location.href = produto.link;
                        } else {
                            // Redireciona para um site padrão se o produto não for encontrado
                            window.location.href = 'https://www.monteirotech.com';
                        }
                    })
                    .catch(error => {
                        console.error('Erro ao carregar os produtos:', error);
                    });
        }        
        // Define o atraso usando setTimeout
        setTimeout(redirecionar, atrasoEmMilissegundos);


    </script>


    <ul id="lista-produtos">
        <!-- Os produtos serão adicionados aqui -->
    </ul>

    <script>
        // Função para carregar e exibir a lista de produtos a partir do arquivo JSON
        function carregarProdutos() {
            fetch('produtos.json') // Carrega o arquivo JSON
                .then(response => response.json()) // Converte a resposta para JSON
                .then(data => {
                    const listaProdutos = document.getElementById('lista-produtos');

                    // Itera sobre os produtos e os exibe na página
                    data.forEach(produto => {
                        const listItem = document.createElement('li');
                        listItem.innerHTML = `
                            <h2>${produto.descricao}</h2>
                            <p>ID: ${produto.id}</p>
                            <a href="${produto.link}" target="_blank">Link</a>
                            <img src="${produto.imagem}" alt="${produto.descricao}">
                        `;
                        listaProdutos.appendChild(listItem);
                    });
                })
                .catch(error => {
                    console.error('Erro ao carregar os produtos:', error);
                });
        }

        // Chama a função para carregar os produtos quando a página carregar
        window.addEventListener('load', carregarProdutos);
    </script>
</body>
</html>


